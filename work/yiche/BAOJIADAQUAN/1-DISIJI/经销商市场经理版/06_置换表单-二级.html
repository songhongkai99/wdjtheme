<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    <title>06_置换表单</title>
<!--    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <link rel="stylesheet" type="text/css" href="../css/jingxiaoshang-jlr.css" />-->
    <!--本地测试-->
    <link rel="stylesheet" type="text/css" href="http://image.bitautoimg.com/uimg/css/00040/4th_2015-2_jingliren_style-20160128102053-1108.css" media="all" /> 
    <!--线上样式-->
    <!-- #include file="/ushtml/0000/4th_2015-2_jingliren_style-1084.shtml" -->
  
</head>
<body>
    <!--****************************置换表单 start ***************************-->
    <div class="zh">
        <header>
            <h2>申请置换</h2>
        </header>
        <div class="con_top_bg"></div>
        <div class="jlr-box">
            <h3>预购信息</h3>
            <div class="form-box">
                <ul>
                    <li class="middle">
                        <a href="###" class="col-2" data-action="first-models" data-id="2593" data-template="#fristModelsTemplate">
                            <div class="img-box">
                                <img src="../img/pic-180x120.jpg" />
                            </div>
                            <div class="input-box col">
                                <h5>2013款 40 TFSI quattro 自动 个性运动型 </h5>
                            </div>
                        </a>
                    </li>
                    <li class="col-2">
                        <div class="col">
                            <label>姓<em class="w30"></em>名:</label>
                        </div>
                        <div class="col">
                            <div class="input-box">
                                <input type="text" value="请输入您的姓名" />
                            </div>
                        </div>
                    </li>
                    <li class="col-2">
                        <div class="col">
                            <label>手<em class="w10"></em>机<em class="w10"></em>号:</label>
                        </div>
                        <div class="col">
                            <div class="input-box">
                                <input type="text" class="current" value="133666330" />
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <h3 class="mt-h">旧车信息</h3>
            <div class="form-box">
                <ul>
                    <li>
                        <a href="###" class="col-2" data-action="brandlayer">
                            <div class="col">
                                <label>现有车型:</label>
                            </div>
                            <div class="input-box">
                                <span>2013款 40 TFSI quattro 自动 个性运动型</span>
                            </div>
                        </a>
                    </li>
                    <li class="col-2 gl">
                        <div class="col">
                            <label>行驶里程:</label>
                        </div>
                        <div class="input-box">
                            <input type="text" value="1000" class="current" />
                            <em>万公里</em>
                        </div>
                    </li>
                    <li>
                        <a href="###" class="col-2" data-action="year">
                            <div class="col">
                                <label>首次上牌:</label>
                            </div>
                            <div class="input-box">
                                <span>2015-11-13</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="###" class="col-2" data-action="province">
                            <div class="col">
                                <label>所<em class="w10"></em>在<em class="w10"></em>地:</label>
                            </div>
                            <div class="input-box">
                                <span>北京市</span>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
            <p class="msg">提交个人信息后，我们会及时与您取得联系</p>
            <button>提交</button>
        </div>
        <!--错误提示 start-->
        <div class="alert4" style="display: none;">
            <span>请输入手机号！</span>
        </div>
    </div>
    <!--错误提示 end-->
    <!--****************************置换表单 end ***************************-->
</body>
</html>

<!--**************************************************************三级连选浮层 start *******************************************************-->
<div class="brandlayer mthead">
    <!-- return block start -->
    <div class="b-return">
        <a href="#" class="btn-return">返回</a>
        <span>条件选车</span>
    </div>
    <!-- return block end -->
    <!-- header start -->
    <div class="brandfilter">
        <!-- return block end -->
        <!-- 字母导航 end -->
        <div class="alert" style="display: none;">
            <span>A</span>
        </div>
        <!-- tags start -->
        <div class="brandlist">
            <!--品牌块 start-->
            <div class="brand-list bybrand_list">
                <div class="content" data-key="brand">
                </div>
            </div>
            <div class="fixed-nav"></div>

            <!--品牌块 end-->
        </div>
    </div>
</div>

<!--车款层 start-->
<div class="leftPopup car-model first-models models original" data-back="leftmask3" style="display: none" data-key="model">
    <div class="swipeLeft swipeLeft-sub">
        <div class="loading">
            <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
            <p>正在加载...</p>
        </div>
    </div>
</div>
<!--车款层 end-->
<!--**************************************************************三级连选浮层 end *********************************************************-->
<!--车型层 start-->
<div class="leftmask mark leftmask3" style="display: none;"></div>
<div class="leftPopup car-model car-1" data-back="leftmask3" style="display: none;" data-key="car">
    <div class="swipeLeft swipeLeft-sub">
        <div class="loading">
            <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
            <p>正在加载...</p>
        </div>
    </div>
</div>
<!--车型层 end-->
<!--车款层 start-->
<div class="leftPopup car-model models model2 models-1" data-back="leftmask3" style="display: none" data-key="model">
    <div class="swipeLeft swipeLeft-sub">
        <div class="loading">
            <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
            <p>正在加载...</p>
        </div>
    </div>
</div>
<!--车款层 end-->
<!--年层 start-->
<div class="leftPopup min year" data-back="leftmask3" style="display: none;">
    <div class="swipeLeft swipeLeft-sub">
        <div class="loading">
            <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
            <p>正在加载...</p>
        </div>
    </div>
</div>
<!--年层 end-->
<!--月层 start-->
<div class="leftPopup min month model2" data-back="leftmask3" style="display: none;">
    <div class="swipeLeft swipeLeft-sub">
        <div class="loading">
            <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
            <p>正在加载...</p>
        </div>
    </div>
</div>
<!--月层 end-->
<!--省份层 start-->
<div class="leftPopup province" data-back="leftmask3" style="display: none;">
    <div class="swipeLeft swipeLeft-sub">
        <div class="loading">
            <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
            <p>正在加载...</p>
        </div>
    </div>
</div>
<!--省份层 end-->
<!--市层 start-->
<div class="leftPopup model2 city" data-back="leftmask3" style="display: none;">
    <div class="swipeLeft swipeLeft-sub">
        <div class="loading">
            <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
            <p>正在加载...</p>
        </div>
    </div>
</div>
<!--市层 end-->
<!--**************************************************************模板 start *********************************************************-->
<!--loading模板 start -->
<div class="template-loading" style="display: none;">
    <div class="loading">
        <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif" />
        <p>正在加载...</p>
    </div>
</div>
<!--loading模板 end -->
<!--车型模板 start-->
<script type="text/template" id="carTemplate">
    <div class="choose-car-name-close bybrand_list">
        <div class="brand-logo-none-border m_9_b"></div>
        <span class="brand-name"></span>
        <!-- <a href="#" class="choose-car-btn-close">关闭</a> -->
    </div>
    <div class="clear"></div>
    { for(var i = 0 ; i < list.length ; i++){ }
    <!-- 车款列表 start -->
    {if(list[i].Child.length > 0){ }
    <div class="tt-small">
        <span>{= list[i].BrandName }</span>
    </div>
    {}}
    <!-- 图文混排横向 start -->
    <div class="pic-txt-h pic-txt-9060">
        <ul>
            { for(var j = 0 ; j < list[i].Child.length ; j++){ }
            <li {=list[i].Child[j].SerialId.toString() ==(api.car.currentid.toString()) ? 'class="current"':'' }>
                <a class="imgbox-2" data-action="models-1" data-id="{= list[i].Child[j].SerialId}" href="#">
                    <div class="img-box">
                        <img src="{= list[i].Child[j].ImageUrl}" />
                    </div>
                    <div class="c-box">
                        <h4>{= list[i].Child[j].SerialName }</h4>
                        <p><strong>{= list[i].Child[j].Price=="暂无报价"?"停售":list[i].Child[j].Price}</strong></p>
                    </div>
                </a>
            </li>
            {}}
        </ul>
    </div>
    <!-- 图文混排横向 end -->
    {}}
</script>
<!--车型模板 end-->
<!--车款模板 start-->
<script type="text/template" id="modelTemplate">
    <div class="header">
        <a class="return" href="###">{= SerialName }</a>
    </div>
    { for(var n in CarList){ }
    {var iszx = arrMark[n.replace('s', '')]}
    <div class="tt-small" {=!iszx?'data-slider="pic-txt-h"':''}>
        <span>
            {= n.replace('s','') }
            {if(!iszx){}
            <em>[停售]</em>
            {}}
        </span>
        {if(!iszx){}
        <i></i>
        {}}
    </div>

    <!-- 图文混排横向 start -->
    <div class="pic-txt-h pic-txt-9060 tone {=(iszx || salesYearCount==0) ?'open':''}">
        <ul>
            {for(var i=0;i < CarList[n].length;i++){}
            <li {=CarList[n][i].CarId.toString()==(api.model.currentid.toString())?'class="current"':'' }">
                <a href="#" data-id="{= CarList[n][i].CarId}">
                    <h4>{= CarList[n][i].CarName}{= CarList[n][i].SaleState == '待销' ? ' [未上市]':''}</h4>
                    <p><strong>{=CarList[n][i].SaleState!="待销"?(CarList[n][i].ReferPrice==""?"暂无":CarList[n][i].ReferPrice+"万"):"未上市"}</strong></p>
                </a>
            </li>
            {}}
        </ul>
    </div>
    {salesYearCount++}
    {}}
</script>
<!--车款模板 end-->
<!--品牌列表模板 start-->
<script type="text/template" id="brandTemplate">
    { for(var n in MsterList){ }
    <div class="tt-small phone-title" data-key="{=n}">
        <span>{=n}</span>
    </div>
    <div class="box">
        <ul>
            {for(var i=0;i< MsterList[n].length;i++){}
            <li {=MsterList[n][i].MasterId.toString()==api.brand.currentid.toString()?"class='current'":"" }>
                <a href="#" data-action="car-1" data-id="{=MsterList[n][i].MasterId}">
                    <span class="brand-logo m_{=MsterList[n][i].MasterId}_b"></span>
                    <span class="brand-name">{=MsterList[n][i].MasterName}</span>
                </a>
            </li>
            {}}
        </ul>
    </div>
    {}}
</script>
<!--品牌列表模板 end-->
<!--字母列表模板 start-->
<script type="text/template" id="navTemplate">
    <ul class="rows-box">
        <li><a href="#">#</a></li>
        { for(var n in CharList){ }
        { if(CharList[n] != 0){ }
        <li><a href="#">{=n}</a></li>
        {}}
        {}}
    </ul>
</script>
<!--字母列表模板 end-->
<!--年模板start-->
<script type="text/template" id="yearTemplate">
    <ul class="first-list absolute">
        <li class="tt-small">
            <span>首次上牌</span>
        </li>
        {for(var j=0;j < list.length;j++){}
        <li><a data-action="month" class="{= list[j].value.toString()==current_year.toString()? 'current':''}">{=list[j].name}</a></li>
        {}}
    </ul>
</script>
<!--年模板end-->
<!--月模板start-->
<script type="text/template" id="monthTemplate">
    <ul class="first-list absolute">
        <li class="header">
            <a class="return" href="###">2015年</a>
        </li>
        {for(var j=0;j < list.length;j++){}
        <li><a data-value="{=list[j].value}" class="{= list[j].value.toString()==current_month.toString()? 'current':''}">{=list[j].name}</a></li>
        {}}
    </ul>
</script>
<!--月模板end-->
<!--车款模板 start-->
<script type="text/template" id="fristModelsTemplate">
    { for(var n in CarList){ }
    {var iszx = arrMark[n.replace('s', '')]}
    <div class="tt-small" {=!iszx ? 'data-slider="pic-txt-h"':'' }>
        <span>
            {= n.replace('s','') }
            {if(!iszx){}
            <em>[停售]</em>
            {}}
        </span>
        {if(!iszx){}
        <i></i>
        {}}
    </div>

    <!-- 图文混排横向 start -->
    <div class="pic-txt-h pic-txt-9060 tone {=(iszx || salesYearCount==0) ?'open':''}">
        <ul>
            {for(var i=0;i < CarList[n].length;i++){}
            <li {=CarList[n][i].CarId.toString()==(api.model.currentid.toString())?'class="current"':'' }">
                <a href="#" data-id="{= CarList[n][i].CarId}">
                    <h4>{= CarList[n][i].CarName}{= CarList[n][i].SaleState == '待销' ? ' [未上市]':''}</h4>
                    <p><strong>{=CarList[n][i].SaleState!="待销"?(CarList[n][i].ReferPrice==""?"暂无":CarList[n][i].ReferPrice+"万"):"未上市"}</strong></p>
                </a>
            </li>
            {}}
        </ul>
    </div>
    {salesYearCount++}
    {}}
</script>
<!--车款模板 end-->
<!--省模板start-->
<script type="text/template" id="provinceTemplate">
    <dl class="tt-list">
        { for(var n in provinces){}
        <dt><span>{=n}</span></dt>
        {for(var i=0;i
        <provinces[n].length;i++){}
            <dd>
                <a href="#" data-action="city" data-id="{=provinces[n][i].id}" class="{= provinces[n][i].id.toString() == current_province.toString()  ? 'current':''}">
                    <p>{=provinces[n][i].name}</p>
                </a>
            </dd>
            {}}
            {}}
    </dl>
</script>
<!--省模板end-->
<!--市模板start-->
<script type="text/template" id="cityTemplate">
    <div class="ap">
        <ul class="first-list rp">
            <li class="root"><a>安徽</a></li>
            {for(var i=0;i
            <citys.length;i++){}
                <li><a data-id="{=citys[i].id}" class="{= citys[i].id.toString() == current_city.toString()  ? 'current':''}">{=citys[i].name}</a></li>
                {}}
        </ul>
    </div>
</script>
<!--市模板end-->
<!--弹出层模板 start-->
<script type="text/template" id="tipTempate">
    <div class="jump-pop">
        <span>{msg}</span>
    </div>
</script>
<!--弹出层模板 end-->
<!--**************************************************************模板 end *********************************************************-->
<!--<script type="text/javascript" src="http:\\192.168.0.10:8888\m\20150514移动站改版\js\jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="http:\\192.168.0.10:8888\m\20150514移动站改版\js\iscroll.js"></script>
<script type="text/javascript" src="http:\\192.168.0.10:8888\m\20150514移动站改版\js\underscore.js"></script>
<script type="text/javascript" src="http:\\192.168.0.10:8888\m\20150514移动站改版\js\model.js"></script>
<script type="text/javascript" src="http:\\192.168.0.10:8888\m\20150514移动站改版\js\note.js"></script>
<script type="text/javascript" src="http:\\192.168.0.10:8888\m\20150514移动站改版\js\rightswipe3.js"></script>
<script type="text/javascript" src="http:\\192.168.0.10:8888\m\20150514移动站改版\js\brand.js"></script>-->

<script src="http://image.bitautoimg.com/uimg/wap/js/jquery-1.8.0.min.js" type="text/javascript"></script>
  <script type="text/javascript" src="http://image.bitautoimg.com/uimg/mbt2015/js/iscroll20151214.js"></script>
    <script type="text/javascript" src="http://image.bitautoimg.com/uimg/mbt2015/js/underscore.js"></script>
    <script src="http://image.bitautoimg.com/uimg/mbt2015/js/model20151214.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://image.bitautoimg.com/uimg/mbt2015/js/note20151214.js"></script>
    <script type="text/javascript" src="http://image.bitautoimg.com/uimg/mbt2015/js/rightswipe20151214.js"></script>
    <script type="text/javascript" src="http://image.bitautoimg.com/uimg/mbt2015/js/brand20151214.js"></script>

<script type="text/javascript">
    var current_year = 2015, //默认选中年
        current_month = 5,
        current_province = 2, //默认选中年
        current_city = 201;


    $(function () {
        var $body = $('body');
        /*******************************品牌 start **************************************/
        $('[data-action=brandlayer]', $body).rightSwipeAnimation({
            fnEnd: function () {
                $body.animate({ scrollTop: 0 }, 30);
                var $brandlayer = this;
                //初始化品牌
                $body.trigger('brandinit', { actionName1: '[data-action=car-1]', actionName2: '[data-action=models-1]' });
                $brandlayer.find('.btn-return').click(function (ev) {
                    ev.preventDefault();
                    $brandlayer.hide();
                })
                $brandlayer.show();


                //车款点击回调事件
                api.model.clickEnd = function (paras) {
                    console.log(paras)
                    //paras.masterobj 品牌对象,paras.carobj 车型对象 ,paras.$current 车款对象
                    //品牌ID
                    console.log('品牌ID：' + paras.masterid) //已选品牌ID
                    //车型ID
                    console.log('车型ID ' + paras.carid)  //已选车型ID
                    //车款ID
                    console.log('车款ID：' + paras.modelid) //已选车款ID
                    api.brand.currentid = paras.masterid;
                    api.car.currentid = paras.carid;
                    api.model.currentid = paras.modelid;
                    var $back = $('.' + $leftPopupModels.attr('data-back'));
                    //关闭外侧浮层
                    $brandlayer.trigger('closeWindow');
                    //关闭右侧浮层
                    $back.trigger('close');
                }
            }
        })
        /*******************************品牌 end **************************************/
        /*******************************一级车款 start **************************************/
        var data = { SerialName: "奥迪A3", ImageUrl: "http://img3.bitautoimg.com/autoalbum/files/20130726/537/0213585372_1.jpg", CarList: { "s2015": [{ CarId: 113851, CarName: "Sportback 35TFSI 手动 进取型", Price: "12.48万", ReferPrice: "18.49", SaleState: "在销" }, { CarId: 113850, CarName: "Limousine 35TFSI 手动 进取型", Price: "12.67万", ReferPrice: "19.09", SaleState: "在销" }, { CarId: 115340, CarName: "Sportback 35 TFSI 纪念智领版", Price: "15.91万", ReferPrice: "22.79", SaleState: "在销" }, { CarId: 115341, CarName: "Limousine 35 TFSI 纪念智领版", Price: "15.79万", ReferPrice: "23.39", SaleState: "在销" }, { CarId: 115342, CarName: "Sportback 35 TFSI 纪念舒享版", Price: "16.74万", ReferPrice: "23.98", SaleState: "在销" }, { CarId: 115343, CarName: " Limousine 35 TFSI 纪念舒享版", Price: "17.14万", ReferPrice: "24.58", SaleState: "在销" }, { CarId: 115344, CarName: "Sportback 35 TFSI 纪念乐享版", Price: "19.26万", ReferPrice: "27.57", SaleState: "在销" }, { CarId: 115345, CarName: "Limousine 35 TFSI 纪念乐享版", Price: "19.66万", ReferPrice: "28.17", SaleState: "在销" }, { CarId: 113832, CarName: "Sportback 40TFSI 双离合 舒适型 ", Price: "18.33万", ReferPrice: "26.56", SaleState: "在销" }, { CarId: 113833, CarName: "Limousine 40TFSI 双离合 舒适型 ", Price: "18.46万", ReferPrice: "26.96", SaleState: "在销" }, { CarId: 113830, CarName: "Sportback 40TFSI 双离合 豪华型 ", Price: "20.04万", ReferPrice: "29.27", SaleState: "在销" }, { CarId: 113831, CarName: "Limousine 40TFSI 双离合 豪华型 ", Price: "20.04万", ReferPrice: "29.67", SaleState: "在销" }], "s2014": [{ CarId: 104780, CarName: "Sportback 35TFSI 进取型", Price: "13.79万", ReferPrice: "19.99", SaleState: "在销" }, { CarId: 112243, CarName: "Limousine 35TFSI 进取型", Price: "14.21万", ReferPrice: "20.59", SaleState: "在销" }, { CarId: 110469, CarName: "Sportback 35TFSI 时尚型", Price: "15.10万", ReferPrice: "21.89", SaleState: "在销" }, { CarId: 112244, CarName: "Limousine 35TFSI 时尚型", Price: "15.52万", ReferPrice: "22.49", SaleState: "在销" }, { CarId: 110470, CarName: "Sportback 35TFSI 舒适型", Price: "16.88万", ReferPrice: "24.88", SaleState: "在销" }, { CarId: 112245, CarName: "Limousine 35TFSI 舒适型", Price: "17.58万", ReferPrice: "25.48", SaleState: "在销" }, { CarId: 110471, CarName: "Sportback 35TFSI 豪华型", Price: "19.76万", ReferPrice: "28.67", SaleState: "在销" }, { CarId: 112246, CarName: "Limousine 35TFSI 豪华型", Price: "20.20万", ReferPrice: "29.27", SaleState: "在销" }] } };
        $body.trigger('publicswipe1', {
            actionName: '[data-action=first-models]',
            ds: data,
            flatFn: function (data) { return data; },
            templateid: '#fristModelsTemplate',
            insertHtml: function (html) {
                this.html('<div class="tt-list absolute">' + html + '</div>');
            },
            fnEnd: function () {
                var $swipeLeft = this, $back = $('.' + $swipeLeft.parent().attr('data-back'));

                $swipeLeft.find('a').click(function (ev) {
                    ev.preventDefault();
                    var $click = $(this);
                    console.log($click.html());
                    $back.trigger('close');
                })
            }
        });

        /*******************************一级车款 end **************************************/
        /*******************************日期 start **************************************/


        var year = [], month = [], $body = $('body');
        for (var i = new Date().getFullYear() ; i >= new Date().getFullYear() - 20 ; i--) {
            year.push({ value: i, name: i + '年' });
        }

        for (var i = 1; i <= 12; i++) {
            month.push({ value: i, name: i + '月' })
        }

        $body.trigger('publicselect2',
            {
                controlName1: 'publicswipe1',
                actionName1: '[data-action=year]',
                actionName2: '[data-action=month]',
                ds1: { list: year },//第一层数据源
                ds2: { list: month },//第二层数据源
                templateid1: '#yearTemplate',
                templateid2: '#monthTemplate',
                fliterTemplate: function (templateid, f) {
                    //templateid 模板ID
                    return templateid;
                },
                fliterData: function (ds, f) {
                    //ds数据源 //在这里可以实现数组筛选
                    return ds;
                },
                fnEnd1: function (paras) {
                    //console.log('打开第一层后回调')
                    var $swipeLeft = this;

                },
                fnEnd2: function (paras) {
                    //console.log('打开第二层后回调')
                    var $swipeLeft = this,
                        $leftPopupModels = $swipeLeft.parent(),
                        $back = $('.' + $leftPopupModels.attr('data-back')),
                        $return = $swipeLeft.find('.return');
                    $return.click(function (ev) {
                        ev.preventDefault();
                        var $current = $(this);
                        $back.trigger('close', { leftPopup: $leftPopupModels });
                    }).html(paras.$current.html());

                    $swipeLeft.find('a:not(.return)').click(function () {
                        var $this = $(this);
                        var c_year = parseInt(paras.$current.html());
                        var c_month = parseInt($this.attr('data-value'));
                        current_year = c_year; //选中年
                        current_month = c_month; //选中月
                        console.log(c_year, c_month);
                        $back.trigger('close');
                    })
                }
            });
        /*******************************日期 end **************************************/


        /*******************************城市 start **************************************/
        //省份模拟json
        var provinces = {
            'A': [{ id: '1', name: '安徽省' }],
            'B': [{ id: '2', name: '北京' }],
            'C': [{ id: '3', name: '重庆' }],
            'F': [{ id: '4', name: '福建省' }],
            'G': [{ id: '5', name: '甘肃省' },
                  { id: '6', name: '广东省' },
                  { id: '7', name: '广西壮族自治区' },
                  { id: '8', name: '贵州省' }],
            'H': [{ id: '9', name: '海南省' },
                  { id: '10', name: '河北省' },
                  { id: '11', name: '黑龙江省' },
                  { id: '12', name: '湖南省' },
                  { id: '13', name: '湖北省' }],
        },
        //城市模拟json
        citys = {
            '1': [
                { id: 101, name: '合肥' },
                { id: 102, name: '安庆' },
                { id: 103, name: '蚌埠' },
                { id: 104, name: '巢湖' },
                { id: 105, name: '池州' },
                { id: 106, name: '阜阳' },
                { id: 107, name: '淮北' },
                { id: 108, name: '淮南' },
                { id: 109, name: '六安' },
                { id: 110, name: '马鞍山' },
                { id: 111, name: '铜陵' },
                { id: 112, name: '芜湖' },
                { id: 113, name: '宣城' },
                { id: 114, name: '滁州' },
                { id: 115, name: '黄山' },
                { id: 116, name: '宿州' }],
            '2': [{ id: 201, name: '北京市' }],
            '3': [{ id: 301, name: '重庆市' }],
            '4': [{ id: 401, name: '泉州' },
                  { id: 402, name: '南平' },
                  { id: 409, name: '宁德' },
                  { id: 410, name: '三明' },
                  { id: 403, name: '福州' },
                  { id: 404, name: '厦门' },
                  { id: 405, name: '龙岩' },
                  { id: 406, name: '漳州' },
                  { id: 407, name: '莆田' }]
        }


        //二级连选
        $body.trigger('publicselect2',
          {
              controlName1: 'publicswipe1',
              actionName1: '[data-action=province]',
              actionName2: '[data-action=city]',
              ds1: { provinces: provinces },//第一层数据源
              ds2: citys,//第二层数据源
              templateid1: '#provinceTemplate',
              templateid2: '#cityTemplate',
              snap1: 'dt,dd',
              fliterTemplate: function (templateid, f) {
                  return templateid;
              },
              fliterData: function (ds, f) {
                  var data = [];
                  for (var n in ds) {
                      if (n.toString() == f.$current.attr('data-id').toString()) {
                          data = ds[n];
                      }
                  }
                  return { citys: data };
              },
              flatFn1: function (data) { //不修改数据源个格式这块删除
                  console.log(data)
                  //修改第一层数据源格式
                  return data;
              },
              flatFn2: function (data) { //不修改数据源个格式这块删除
                  console.log(data)
                  //修改第二层数据源格式
                  return data;
              },
              fnEnd1: function (paras) {
                  //console.log('打开第一层后回调')
                  var $swipeLeft = this;
              },
              fnEnd2: function (paras) {
                  //console.log('打开第二层后回调')
                  var $swipeLeft = this,
                        $leftPopupModels = $swipeLeft.parent(),
                        $back = $('.' + $leftPopupModels.attr('data-back')),
                        $a = $swipeLeft.find('.root a');

                  $a.html(paras.$current.html());
                  $a.click(function (ev) {
                      ev.preventDefault();
                      $back.trigger('close', { leftPopup: $leftPopupModels });
                  });

                  $swipeLeft.find('li:not(.root) a').click(function (ev) {
                      ev.preventDefault();
                      var $current = $(this);
                      current_province = paras.$current.attr('data-id');
                      current_city = $current.attr('data-id');
                      console.log(paras.$current.attr('data-id'), $current.attr('data-id'))
                      //alert($current.html())
                      $back.trigger('close');
                  });
              }
          });
        /*******************************城市 end **************************************/

        /*弹出层*/
        $(document.body).tip({ msg: '请输入姓名,请输入姓名,请输入姓名,请输入姓名！' });
    });
</script>
